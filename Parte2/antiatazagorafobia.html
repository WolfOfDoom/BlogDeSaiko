<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="../img/madotsuki no.gif" type="image/x-icon">
    <title>Antiatazagorafobia</title>
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
    <style>
        body {
            background-color: #000;
            color: #e6ccd9;
            font-family: 'Press Start 2P', monospace;
            text-align: center;
            overflow-x: hidden;
            overflow-y: hidden;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            opacity: 0;
            transition: opacity 2s ease;
            line-height: 1.7;
            padding: 40px;
        }

        .visible {
            opacity: 1;
        }

        .lightbulb {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 90px;
            height: 90px;
            background: radial-gradient(circle, #f2a8d5 0%, #a26c91 60%, transparent 100%);
            border-radius: 50%;
            cursor: pointer;
            box-shadow: 0 0 30px rgba(255, 200, 240, 0.3);
            animation: pulse 2s ease-in-out infinite;
        }

        @keyframes pulse {

            0%,
            100% {
                box-shadow: 0 0 30px rgba(255, 200, 240, 0.3);
            }

            50% {
                box-shadow: 0 0 60px rgba(255, 180, 220, 0.6);
            }
        }

        .fade {
            opacity: 0;
            transform: translateY(15px);
            transition: opacity 1.5s ease, transform 1.5s ease;
        }

        .fade.show {
            opacity: 1;
            transform: translateY(0);
        }

        .endline {
            color: #ffb3de;
            text-shadow: 0 0 8px #ffb3de;
        }

        audio {
            display: none;
        }

        /* La bombilla siempre por encima */
        .lightbulb {
            z-index: 10;
        }

        /* El texto NO recibe clics hasta que sea visible */
        .container {
            position: relative;
            pointer-events: none;
            /* <- bloquea interacciones cuando está oculta */
        }

        /* Cuando se vuelve visible, ya acepta interacciones y scroll */
        .container.visible {
            pointer-events: auto;
            overflow-y: auto;
            max-height: 100vh;
            /* por si el texto es largo */
        }

        /* --- FIX: contenedor scrolleable y con colchón inferior --- */
        html,
        body {
            height: 100%;
        }

        body {
            overflow: hidden;
            /* bloquea el scroll del body */
        }

        .container {
            position: relative;
            /* alto flexible según el viewport (fallback + unidades modernas) */
            max-height: 100vh;
            max-height: 100svh;
            /* iOS/Android modernos */
            max-height: 100dvh;
            /* navegadores recientes */
            overflow-y: auto;
            scroll-behavior: smooth;
            scroll-padding-bottom: 120px;
            /* para que el último párrafo no quede pegado */
            padding-bottom: 100px;
            /* colchón real de espacio */
        }

        /* cuando se vuelve visible ya recibe eventos (si no lo tenías) */
        .container.visible {
            pointer-events: auto;
        }

        /* por si quieres forzar que el último párrafo siempre tenga extra espacio */
        .container p:last-child {
            margin-bottom: 40px;
        }

        /* Firefox */
        .container {
            scrollbar-width: thin;
            scrollbar-color: #a26c91 #0a060a;
            /* thumb / track */
        }

        /* WebKit (Chrome, Edge, Safari) */
        .container::-webkit-scrollbar {
            width: 10px;
        }

        .container::-webkit-scrollbar-track {
            background: #0a060a;
            /* track oscuro */
            border-left: 1px solid #1a0f16;
        }

        .container::-webkit-scrollbar-thumb {
            background: #a26c91;
            /* magenta apagado */
            border: 2px solid #0a060a;
            /* halo oscuro para “pixel art vibe” */
            border-radius: 8px;
            box-shadow: inset 0 0 6px rgba(255, 180, 220, 0.25);
        }

        .container::-webkit-scrollbar-thumb:hover {
            background: #c98ab1;
            /* hover */
        }

        .back-btn {
            position: fixed;
            top: 18px;
            left: 18px;
            z-index: 20;
            text-decoration: none;
            color: #ffb3de;
            background: #1a0f16;
            border: 1px solid #a26c91;
            border-radius: 4px;
            padding: 8px 12px;
            font-family: 'Press Start 2P', monospace;
            font-size: 11px;
            letter-spacing: .5px;
            text-shadow: 0 0 6px rgba(255, 179, 222, .5);
            box-shadow: 0 0 8px rgba(162, 108, 145, .35);
            transition: transform .15s ease, box-shadow .15s ease;
        }

        .back-btn:hover {
            transform: translateY(-1px);
            box-shadow: 0 0 12px rgba(255, 179, 222, .45);
        }
    </style>
</head>

<body>

    <iframe id="bgm" width="0" height="0"
        src="https://www.youtube.com/embed/F1LU2By8XRQ?enablejsapi=1&autoplay=0&loop=1&playlist=F1LU2By8XRQ&controls=0&mute=0"
        title="Antiatazagorafobia BGM" frameborder="0" allow="autoplay; encrypted-media"></iframe>


    <div class="lightbulb" id="light"></div>

    <div class="container" id="text">
        <p class="fade">La casa estaba en silencio, respirando despacio, como si esperara algo.</p>
        <p class="fade">Las paredes exhalaban soledad, y la oscuridad no era solo ausencia de luz… era una sustancia,
            densa, pegajosa, que se colaba entre los dedos.</p>
        <p class="fade">Afuera, risas. Niños. Voces que parecían moverse en círculos, girando alrededor de mi casa como
            insectos atraídos por la única lámpara encendida del vecindario.</p>
        <p class="fade">Adentro, nada. Ni siquiera mi sombra parecía seguirme.</p>
        <p class="fade">El refrigerador emitió un zumbido débil antes de abrirse solo, como si una mano invisible
            buscara algo que olvidé.</p>
        <p class="fade">Dentro, solo había reflejos pálidos y el sonido hueco del aire escapando.</p>
        <p class="fade">No quise mirar más. Fingí que no lo vi. Pero el miedo ya había encontrado mi nombre.</p>
        <p class="fade">Fui a la puerta. La manija estaba helada, viva. Intenté abrir, pero una fuerza la sostenía con
            rabia.</p>
        <p class="fade">Los niños seguían riendo. No de alegría, sino de costumbre, como ecos grabados. Golpeé la
            puerta. Nadie respondió.</p>
        <p class="fade">El silencio me devolvió mi propio golpe.</p>
        <p class="fade">Entonces lo sentí. Primero, un roce en la espalda. Luego, dedos invisibles, recorriendo mi piel
            con una mezcla grotesca entre ternura y amenaza.</p>
        <p class="fade">Eran cosquillas, pero no de risa. De miedo, crueles y familiares.</p>
        <p class="fade">Mi cuerpo se contrajo, intenté aferrarme a la chapa, pero mis manos se deslizaban como si la
            realidad misma no quisiera que escapara.</p>
        <p class="fade">Me estaban jalando hacia mi cuarto. El pasillo se estiraba, respiraba. Cada paso que daba hacia
            atrás se repetía, como si el suelo quisiera reescribirme.</p>
        <p class="fade">Yo gritaba, pero el sonido salía en fragmentos.</p>
        <p class="fade">Cuando crucé el umbral de mi habitación, vi mi cama. Y sobre ella, a mí. Durmiendo.</p>
        <p class="fade">Grité. El sueño se rompió.</p>
        <p class="fade">Desperté empapado en sudor, con el eco de mi voz todavía temblando en las paredes.</p>
        <p class="fade endline">Y afuera, la luz seguía encendida, ella seguía a mi lado, todo estaba bien.</p>
    </div>

    <script src="https://www.youtube.com/iframe_api"></script>
    <script>
        let player;

        function onYouTubeIframeAPIReady() {
            player = new YT.Player('bgm', {
                events: {
                    'onReady': () => console.log('BGM listo')
                }
            });
        }

        const light = document.getElementById('light');
        const textContainer = document.getElementById('text');
        const paragraphs = document.querySelectorAll('.fade');

        light.addEventListener('click', () => {
            // Oculta el foco
            light.style.opacity = '0';
            light.style.pointerEvents = 'none';
            setTimeout(() => light.style.display = 'none', 800);

            // --- Reproducir música con fade-in ---
            if (player && player.playVideo) {
                player.playVideo();
                player.setVolume(0);
                let vol = 0;
                const fadeIn = setInterval(() => {
                    if (vol < 20) { // Volumen final bajo (20%)
                        vol += 1;
                        player.setVolume(vol);
                    } else {
                        clearInterval(fadeIn);
                    }
                }, 150);
            } else {
                console.warn("YouTube player aún no está listo");
            }

            // --- Mostrar texto con efecto fade-in ---
            textContainer.classList.add('visible');
            paragraphs.forEach((p, i) => {
                setTimeout(() => {
                    p.classList.add('show');
                    if (i === paragraphs.length - 1) {
                        setTimeout(() => p.scrollIntoView({ behavior: 'smooth', block: 'end' }), 300);
                    }
                }, i * 2500);
            });
        });
    </script>




    <a class="back-btn" href="Dreamlog.html" aria-label="Volver al Dreamlog">◀ MENÚ</a>



</body>

</html>